(function(e){function t(t){for(var r,s,a=t[0],c=t[1],u=t[2],d=0,p=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/phisikon/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"03cc":function(e,t,n){"use strict";var r=n("5466"),i=n.n(r);i.a},"0491":function(e,t,n){},"13a5":function(e,t,n){"use strict";var r=n("a13f"),i=n.n(r);i.a},"255f":function(e,t,n){"use strict";var r=n("c1ec"),i=n.n(r);i.a},2897:function(e,t,n){e.exports=n.p+"img/preloader.0831ddf4.gif"},"35cb":function(e,t,n){"use strict";var r=n("81cf"),i=n.n(r);i.a},5466:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s={name:"app",data:function(){return{}},components:{},created:function(){},mounted:function(){}},a=s,c=(n("13a5"),n("2877")),u=Object(c["a"])(a,i,o,!1,null,null,null),l=u.exports,d=n("2f62"),p=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header",{attrs:{hasHeader:e.header},on:{"rubbonus-changed":function(t){return e.toogle(t)}}}),n("Preloader",{attrs:{data:!0}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"dashboard"},[n("div",{staticClass:"filters"},[n("div",{staticClass:"filters__col"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSubject,expression:"selectedSubject"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSubject=t.target.multiple?n:n[0]}}},[n("option",[e._v("Все предметы")]),n("option",[e._v("Алгебра")]),n("option",[e._v("Английский язык")]),n("option",[e._v("Биология")]),n("option",[e._v("География")]),n("option",[e._v("Геометрия")]),n("option",[e._v("Демо-версия")]),n("option",[e._v("Информатика")]),n("option",[e._v("История")]),n("option",[e._v("Литература")]),n("option",[e._v("Математика")]),n("option",[e._v("Обществознание")]),n("option",[e._v("Окружающий мир")]),n("option",[e._v("Робототехника")]),n("option",[e._v("Русский язык")]),n("option",[e._v("Физика")]),n("option",[e._v("Химия")])])]),n("div",{staticClass:"filters__col"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre,expression:"selectedGenre"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedGenre=t.target.multiple?n:n[0]}}},[n("option",[e._v("Все жанры")]),n("option",[e._v("Демо")]),n("option",[e._v("Задачник")]),n("option",[e._v("Подготовка к ВПР")]),n("option",[e._v("Подготовка к ЕГЭ")]),n("option",[e._v("Рабочая тетрадь")])])]),n("div",{staticClass:"filters__col"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGrade,expression:"selectedGrade"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedGrade=t.target.multiple?n:n[0]}}},[n("option",[e._v("Все классы")]),n("option",[e._v("1")]),n("option",[e._v("2")]),n("option",[e._v("3")]),n("option",[e._v("4")]),n("option",[e._v("5")]),n("option",[e._v("6")]),n("option",[e._v("7")]),n("option",[e._v("8")]),n("option",[e._v("9")]),n("option",[e._v("10")]),n("option",[e._v("11")])])]),n("div",{staticClass:"search__options"},[n("button",{staticClass:"icon",attrs:{"disabled:true":""},on:{click:e.searschbyTitle}},[n("font-awesome-icon",{attrs:{icon:"search"}})],1),n("Input",{attrs:{label:""},on:{"input-changed":e.getSearch}})],1)]),n("div",{staticClass:"games"},e._l(e.filteredImumkItems,(function(t,r){return n("Card",{key:r,staticClass:"games__item",attrs:{clickRubBonus:e.clickRubBonus,imumkitem:t}})})),1)])])],1)},h=[],m=(n("4de4"),n("7db0"),n("4160"),n("a630"),n("ac1f"),n("3ca3"),n("5319"),n("841c"),n("1276"),n("159b"),n("5530")),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"wrapper"},[e.hasHeader?n("h1",{staticClass:"header__title"},[e._v("Витрина")]):e._e(),n("div",{staticClass:"header__options"}),n("div",{staticClass:"header__options"},[n("span",{staticClass:"header__toogle"},[e._v("Переключить рубли/бонусы")]),n("button",{staticClass:"favorite-counter__icon",class:{"favorite-counter__icon--active":this.hasBeenToogle},on:{click:e.updateValue}},[n("font-awesome-icon",{attrs:{icon:"toggle-off"}})],1)])])])},g=[],_=(n("d3b7"),n("ddb0"),n("2b3d"),{name:"Header",props:{hasHeader:Boolean},data:function(){return{hasBeenToogle:!1}},computed:{imumks:function(){return this.$store.getters.getimumk}},methods:{updateValue:function(){this.hasBeenToogle=!this.hasBeenToogle,this.$emit("rubbonus-changed",this.hasBeenToogle)},readRequest:function(){var e=document.createElement("a");e.href=URL.createObjectURL(new Blob([JSON.stringify(this.imumks,null,2)],{type:"text/plain"})),e.setAttribute("download","data.txt"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}}}),b=_,k=(n("255f"),Object(c["a"])(b,v,g,!1,null,"6b0ee094",null)),w=k.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"input",attrs:{label:e.label}},[n("input",{ref:"inputValue",staticClass:"input__input",attrs:{type:"text",required:""},on:{input:function(t){return e.updateValue()}}}),n("span",{staticClass:"input__label"},[e._v(e._s(e.label))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"error"},[e._v(e._s(e.error))])])},j=[],S={name:"Input",props:{label:{type:String,required:!1},error:{type:String,required:!1}},methods:{updateValue:function(){this.$emit("input-changed",this.$refs.inputValue.value)}}},y=S,G=(n("c245"),Object(c["a"])(y,C,j,!1,null,"7d7bd10a",null)),T=G.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-card",attrs:{id:"crd"}},[e._m(0),n("div",{staticClass:"game-card__info"},[n("div",{staticClass:"text1"},[e._v(e._s(e.newtitle[0]))]),n("br"),n("div",{staticClass:"text2"},[e._v(e._s(e.newtitle[1]))]),n("br"),n("div",{staticClass:"text3"},[e._v(e._s(e.newtitle[2]))])]),n("div",{staticClass:"game-card__stat"},[n("div",{staticClass:"views-counter"},[n("div",{staticClass:"views-counter__icon"},[n("font-awesome-icon",{attrs:{icon:"cart-arrow-down"}})],1),n("div",{staticClass:"views-counter__value"},[e._v(e._s(this.prcBnsToogle))])])])])},A=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game-card__preview"},[r("img",{staticClass:"game-card__image",attrs:{src:n("826e"),alt:""}})])}],I={name:"Card",props:{imumkitem:Object,clickRubBonus:Boolean},data:function(){return{}},methods:{},computed:Object(m["a"])({},Object(d["b"])({}),{newtitle:function(){var e;e=this.imumkitem.title.replace(/[.]/g,",");var t=/\s*,\s*/,n=e.split(t);return n},prcBnsToogle:function(){var e;return e=0==this.clickRubBonus?this.imumkitem.price+" рублей ":this.imumkitem.priceBonus+" бонусов ",e}})},x=I,B=(n("03cc"),Object(c["a"])(x,O,A,!1,null,"66cbfd86",null)),$=B.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return 0==e.data?r("div",{staticClass:"preloader"},[r("img",{attrs:{src:n("2897"),alt:"preloader"}})]):e._e()},P=[],R={name:"Preloader",components:{},props:["data"],data:function(){return{}}},L=R,q=(n("a1a1"),Object(c["a"])(L,E,P,!1,null,"000f6a2e",null)),H=q.exports,M=n("8aa5"),N=n.n(M),U={name:"Dashboard",components:{Header:w,Input:T,Card:$,Preloader:H},props:{},data:function(){return{header:!0,selectedSubject:"Все предметы",selectedGenre:"Все жанры",selectedGrade:"Все классы",search:null,clickRubBonus:!1}},methods:{toogle:function(e){this.clickRubBonus=e},getSearch:function(e){this.search=e.toLowerCase(),0==this.search.length?this.search=null:/[0-9]/.test(this.search)?this.search=e.replace(/[^0-9]/g,""):this.search=e.replace(/[^A-Za-zА-Яа-яЁё]/g,"").toLowerCase()},searschbyTitle:function(){console.log(this.search)}},computed:Object(m["a"])({},Object(d["b"])({imumkitems:function(e){return e.imumkitems},phisikon:function(e){return e.phisikon}}),{arrUnique:function(){var e=this,t=[];return Array.from(this.imumks).forEach((function(n,r){n.tagList=e.nwimmk[r].tagList,t.push(n)})),t},nwimmk:function(){for(var e,t,n=[],r=0;r<this.titles.length;r++){e=this.titles[r].replace(/[,.-]/g," "),t=e.replace(/\s+/g," ").replace(/^\s/,"").replace(/\s$/,"");var i=/\s* \s*/,o=t.split(i),s={tagList:o};n.push(s)}return n},imumks:function(){return this.$store.getters.getimumk},subject:function(){return this.$store.getters.getSubject},genre:function(){return this.$store.getters.getGenre},grade:function(){return this.$store.getters.getGrade},titles:function(){return this.$store.getters.getTitle},immkToSbjct:function(){var e=this;return this.arrUnique.filter((function(t){return t.subject===e.selectedSubject}))},immkToGnr:function(){var e=this;return this.arrUnique.filter((function(t){return t.genre===e.selectedGenre}))},immkToGrd:function(){var e=this;return this.arrUnique.filter((function(t){return t.grade===e.selectedGrade}))},threeFilters:function(){var e=this,t=this.immkToSbjct.filter((function(t){return t.genre===e.selectedGenre}));return t.filter((function(t){return t.grade===e.selectedGrade}))},filteredImumkItems:function(){var e,t=this;return e="Все предметы"!==this.selectedSubject&&"Все жанры"==this.selectedGenre&&"Все классы"==this.selectedGrade?this.immkToSbjct:"Все предметы"==this.selectedSubject&&"Все жанры"!==this.selectedGenre&&"Все классы"==this.selectedGrade?this.immkToGnr:"Все предметы"==this.selectedSubject&&"Все жанры"==this.selectedGenre&&"Все классы"!==this.selectedGrade?this.immkToGrd:"Все предметы"!==this.selectedSubject&&"Все жанры"!==this.selectedGenre&&"Все классы"==this.selectedGrade?this.immkToSbjct.filter((function(e){return e.genre===t.selectedGenre})):"Все предметы"!==this.selectedSubject&&"Все жанры"==this.selectedGenre&&"Все классы"!==this.selectedGrade?this.immkToSbjct.filter((function(e){return e.grade===t.selectedGrade})):"Все предметы"==this.selectedSubject&&"Все жанры"!==this.selectedGenre&&"Все классы"!==this.selectedGrade?this.immkToGnr.filter((function(e){return e.grade===t.selectedGrade})):"Все предметы"!==this.selectedSubject&&"Все жанры"!==this.selectedGenre&&"Все классы"!==this.selectedGrade?this.threeFilters:null!==this.search?this.arrUnique.filter((function(e){return e.tagList.find((function(e){return e.toLowerCase()===t.search}))})):this.arrUnique,e}}),created:function(){this.$store.dispatch("initImumkItems"),this.$store.dispatch("initPhisikonData")}},D=U,K=(n("35cb"),Object(c["a"])(D,f,h,!1,null,"7679b41f",null)),V=K.exports;r["a"].use(d["a"]),r["a"].use(p["a"]);var F=new p["a"]({mode:"history",routes:[{path:"/",name:"Dashboard",component:V,props:!0},{path:"*",redirect:"/"}]}),J=(n("d81d"),n("bc3a")),z=n.n(J);r["a"].use(d["a"]);var W=new d["a"].Store({state:{imumkitems:{},phisikon:{}},getters:{getimumk:function(e){return e.phisikon},getSubject:function(e){return e.phisikon.map((function(e){return e.subject}))},getGenre:function(e){return e.phisikon.map((function(e){return e.genre}))},getGrade:function(e){return e.phisikon.map((function(e){return e.grade}))},getTitle:function(e){return e.phisikon.map((function(e){return e.title}))},getPrice:function(e){return e.phisikon.map((function(e){return e.price}))},getPriceBonus:function(e){return e.phisikon.map((function(e){return e.priceBonus}))}},mutations:{SET_IMUMK_ITEMS:function(e,t){e.imumkitems=t},SET_PHISIKON_DATA:function(e,t){e.phisikon=t}},actions:{initImumkItems:function(e){var t=e.commit;z.a.post("http://krapipl.imumk.ru:8082/api/mobilev1/update").then((function(e){t("SET_IMUMK_ITEMS",e.data.items)})).catch((function(e){console.log(e)}))},initPhisikonData:function(e){var t=e.commit;N.a.database().ref().once("value").then((function(e){var n=e.val();t("SET_PHISIKON_DATA",n)}))}}}),X=n("ecee"),Y=n("c074"),Z=n("ad3d"),Q=n("9483");Object(Q["a"])("".concat("/phisikon/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["a"].use(d["a"]);var ee="",te={apiKey:"AIzaSyAh9euDC1WEnLBRAiJIAmA3XMKuEimsNeY",authDomain:"phisikon-656c0.firebaseapp.com",databaseURL:"https://phisikon-656c0.firebaseio.com",projectId:"phisikon-656c0",storageBucket:"phisikon-656c0.appspot.com",messagingSenderId:"785485131346",appId:"1:785485131346:web:bb0498f3e400943540f98b",measurementId:"G-8PRH7XYZHW"};N.a.initializeApp(te),X["c"].add({faSave:Y["k"],faHeart:Y["i"],faEye:Y["h"],faPlay:Y["j"],faCog:Y["g"],faSignOutAlt:Y["m"],faArrowLeft:Y["c"],faTimesCircle:Y["o"],faArrowCircleLeft:Y["a"],faArrowCircleRight:Y["b"],faTimes:Y["n"],faCircle:Y["f"],faArrowRight:Y["d"],faSearch:Y["l"],faCartArrowDown:Y["e"],faToggleOff:Y["p"]}),r["a"].component("font-awesome-icon",Z["a"]),r["a"].config.productionTip=!1,ee||(ee=new r["a"]({store:W,router:F,render:function(e){return e(l)}}).$mount("#app"))},"81cf":function(e,t,n){},"826e":function(e,t,n){e.exports=n.p+"img/globus.db10420c.png"},a13f:function(e,t,n){},a1a1:function(e,t,n){"use strict";var r=n("e078"),i=n.n(r);i.a},c1ec:function(e,t,n){},c245:function(e,t,n){"use strict";var r=n("0491"),i=n.n(r);i.a},e078:function(e,t,n){}});
//# sourceMappingURL=app.fbf66bff.js.map